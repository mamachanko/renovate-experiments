{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "rebaseWhen": "behind-base-branch",
  "enabledManagers": [
    "gomod",
    "regex"
  ],
  "extends": [
    "config:recommended"
  ],
  "prConcurrentLimit": 0,
  "prHourlyLimit": 0,
  "regexManagers": [
    {
      "fileMatch": [
        "Makefile"
      ],
      "matchStrings": [
        "RENOVATE_VERSION \\?= (?<currentValue>.*?)\\n"
      ],
      "depNameTemplate": "renovate",
      "datasourceTemplate": "npm"
    },
    {
      "fileMatch": [
        "Makefile"
      ],
      "matchStrings": [
        "GOLANGCILINT_VERSION \\?= (?<currentValue>.*?)\\n"
      ],
      "depNameTemplate": "golangci/golangci-lint",
      "datasourceTemplate": "github-releases"
    },
    {
      "fileMatch": [
        "^.*pipeline\\.yml$"
      ],
      "matchStrings": [
        "repository: (?<registryUrlTemplate>.*-resource?)\\n\\s*tag: (?<currentValue>.*?)\\n"
      ],
      "depNameTemplate": "{{{registryUrlTemplate}}}",
      "datasourceTemplate": "docker"
    }
  ],
  "packageRules": [
    {
      "labels": [
        "dependencies",
        "javascript"
      ],
      "matchFileNames": [
        "Makefile"
      ],
      "schedule": [
        "every sunday"
      ],
      "semanticCommitScope": "tooling",
      "semanticCommitType": "ci"
    },
    {
      "matchFileNames": [
        "go-upstream/**"
      ],
      "semanticCommitScope": "upstream",
      "semanticCommitType": "fix"
    },
    {
      "excludeDepNames": [
        "github.com/mamachanko/renovate-experiments/go-upstream"
      ],
      "matchFileNames": [
        "go-downstream/**"
      ],
      "semanticCommitScope": "downstream",
      "semanticCommitType": "ci"
    }
  ],
  "semanticCommits": "enabled"
}
